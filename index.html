<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nolan's Games</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
  <style>
    :root {
      --bg-color: #1a1a2e;
      --panel-color: #16213e;
      --accent: #e94560;
      --text-light: #f0f0f0;
      --overlay-bg: rgba(20, 20, 40, 0.8);
      --radius: 12px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background: var(--bg-color) url('https://i.imgur.com/3Z5bQPl.png') no-repeat center/cover;
      color: var(--text-light);
      font-family: 'Press Start 2P', cursive, sans-serif;
      overflow-y: auto;
    }
    header {
      position: sticky;
      top: 0;
      background: var(--panel-color);
      padding: 20px;
      text-align: center;
      font-size: 32px;
      z-index: 10;
    }
    .container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
    .game-box {
      position: relative;
      background: var(--panel-color);
      height: 300px;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    .overlay {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: var(--overlay-bg);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: opacity 0.3s;
      z-index: 5;
    }
    .overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .overlay h2 {
      margin-bottom: 10px;
    }
    .overlay button {
      padding: 8px 16px;
      font-family: inherit;
      cursor: pointer;
      background: var(--accent);
      color: var(--text-light);
      border: none;
      border-radius: var(--radius);
    }
    .parallax {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('https://i.imgur.com/AdXqO6Q.png') no-repeat center/contain;
      opacity: 0.2;
      pointer-events: none;
      transform: translateY(0);
      transition: transform 0.1s;
    }
    .coming-soon {
      font-size: 18px;
      color: var(--text-light);
    }
  </style>
</head>
<body>
  <header>Nolan's Games</header>
  <div class="container">
    <div class="grid" id="game-grid">
      <!-- Four playable game boxes -->
      <div class="game-box">
        <div class="parallax"></div>
        <div class="overlay" id="overlay-gravity">
          <h2>Gravity Switcher</h2>
          <button data-game="gravity">Play</button>
        </div>
        <div id="game-gravity"></div>
      </div>
      <div class="game-box">
        <div class="parallax"></div>
        <div class="overlay" id="overlay-shooter">
          <h2>Space Shooter</h2>
          <button data-game="shooter">Play</button>
        </div>
        <div id="game-shooter"></div>
      </div>
      <div class="game-box">
        <div class="parallax"></div>
        <div class="overlay" id="overlay-jumper">
          <h2>Platform Jumper</h2>
          <button data-game="jumper">Play</button>
        </div>
        <div id="game-jumper"></div>
      </div>
      <div class="game-box">
        <div class="parallax"></div>
        <div class="overlay" id="overlay-drop">
          <h2>Block Drop</h2>
          <button data-game="drop">Play</button>
        </div>
        <div id="game-drop"></div>
      </div>
      <!-- 23 'Coming Soon' placeholders -->
    </div>
  </div>
  <script>
    // Parallax background effect on scroll
    window.addEventListener('scroll', () => {
      document.querySelectorAll('.parallax').forEach(el => {
        el.style.transform = `translateY(${window.pageYOffset * 0.2}px)`;
      });
    });
    // Generate 'Coming Soon' placeholders
    const grid = document.getElementById('game-grid');
    for (let i = 0; i < 23; i++) {
      const box = document.createElement('div');
      box.className = 'game-box';
      const par = document.createElement('div'); par.className = 'parallax';
      const overlay = document.createElement('div'); overlay.className = 'overlay';
      const text = document.createElement('div'); text.className = 'coming-soon';
      text.textContent = 'Coming Soon';
      overlay.appendChild(text);
      box.appendChild(par);
      box.appendChild(overlay);
      grid.appendChild(box);
    }
    // Manage game instances
    const games = {};
    function stopAllGames() {
      Object.keys(games).forEach(key => {
        if (games[key]) games[key].destroy(true);
      });
    }
    // Overlay button handlers
    document.querySelectorAll('.overlay button').forEach(btn => {
      btn.addEventListener('click', () => {
        const gameKey = btn.getAttribute('data-game');
        stopAllGames();
        document.getElementById(`overlay-${gameKey}`).classList.add('hidden');
        startGame(gameKey);
      });
    });
    // Start selected game
    function startGame(key) {
      switch (key) {
        case 'gravity': initGravity(); break;
        case 'shooter': initShooter(); break;
        case 'jumper': initJumper(); break;
        case 'drop': initDrop(); break;
      }
    }
    // Utility: restart game
    function restartGame(key) {
      stopAllGames();
      document.getElementById(`overlay-${key}`).classList.remove('hidden');
    }
    // ---- Game 1: Gravity Switcher ----
    function initGravity() {
      gravObs = [];
      gravSpeed = 100;
      gravTimer = 0;
      const cfg = {
        type: Phaser.AUTO,
        width: 400, height: 300,
        backgroundColor: 'transparent', parent: 'game-gravity',
        physics: { default: 'arcade', arcade: { gravity: { y: 0 } } },
        scene: { create: gravityCreate, update: gravityUpdate }
      };
      games.gravity = new Phaser.Game(cfg);
    }
    let gravPlayer, gravCursors, gravObs, gravTimer, gravSpeed;
    function gravityCreate() {
      gravCursors = this.input.keyboard.createCursorKeys();
      gravPlayer = this.physics.add.rectangle(50, 270, 20, 20, 0x00ffb3);
      this.physics.add.existing(gravPlayer);
      gravPlayer.body.setImmovable(true).setCollideWorldBounds(true);
      this.tweens.killAll();
      this.time.addEvent({ delay: 100, loop: true, callback: () => gravSpeed += 0.5 });
    }
    function gravityUpdate(_, dt) {
      if (gravCursors.up.isDown) this.tweens.add({ targets: gravPlayer, y: 30, duration: 200, overwrite: true });
      else if (gravCursors.down.isDown) this.tweens.add({ targets: gravPlayer, y: 270, duration: 200, overwrite: true });
      gravTimer += dt;
      if (gravObs.length < 2 && gravTimer > 1000) { spawnGravOb(this); gravTimer = 0; }
      gravObs.forEach((o, i) => {
        o.x -= (gravSpeed * dt) / 1000;
        if (o.x < -50) { o.destroy(); gravObs.splice(i, 1); spawnGravOb(this); }
        if (Phaser.Geom.Intersects.RectangleToRectangle(gravPlayer.getBounds(), o.getBounds())) restartGame('gravity');
      });
    }
    function spawnGravOb(scene) {
      const y = Math.random() > 0.5 ? 30 : 270;
      const ob = scene.add.rectangle(420, y, 50, 20, 0xff0000);
      scene.physics.add.existing(ob, true);
      gravObs.push(ob);
    }
    // ---- Game 2: Space Shooter ----
    function initShooter() {
      const cfg = {
        type: Phaser.AUTO, width: 400, height: 300,
        backgroundColor: 'transparent', parent: 'game-shooter',
        physics: { default: 'arcade', arcade: { gravity: { y: 0 } } },
        scene: { preload: shooterPreload, create: shooterCreate, update: shooterUpdate }
      };
      games.shooter = new Phaser.Game(cfg);
    }
    let ship, cursors, bullets, enemies;
    function shooterPreload() {
      this.load.image('ship', 'https://i.imgur.com/6b7YjkQ.png');
      this.load.image('bullet', 'https://i.imgur.com/KYJcpuT.png');
      this.load.image('enemy', 'https://i.imgur.com/FJz6Z4G.png');
    }
    function shooterCreate() {
      cursors = this.input.keyboard.createCursorKeys();
      ship = this.physics.add.sprite(200, 280, 'ship').setScale(0.3).setCollideWorldBounds(true);
      bullets = this.physics.add.group();
      enemies = this.physics.add.group();
      this.time.addEvent({ delay: 1500, loop: true, callback: () => {
        const x = Phaser.Math.Between(50, 350);
        const e = enemies.create(x, 0, 'enemy').setScale(0.2);
        e.body.setVelocityY(100 + this.time.now / 2000);
      }});
      this.physics.add.overlap(bullets, enemies, (b, e) => { b.destroy(); e.destroy(); });
      this.physics.add.overlap(ship, enemies, () => restartGame('shooter'));
    }
    function shooterUpdate() {
      ship.setVelocityX(0);
      if (cursors.left.isDown) ship.setVelocityX(-200);
      else if (cursors.right.isDown) ship.setVelocityX(200);
      if (Phaser.Input.Keyboard.JustDown(cursors.space)) {
        const b = bullets.create(ship.x, ship.y - 20, 'bullet').setScale(0.2);
        b.body.setVelocityY(-300);
      }
    }
    // ---- Game 3: Platform Jumper ----
    function initJumper() {
      const cfg = {
        type: Phaser.AUTO, width: 400, height: 300,
        backgroundColor: 'transparent', parent: 'game-jumper',
        physics: { default: 'arcade', arcade: { gravity: { y: 500 } } },
        scene: { preload: jumperPreload, create: jumperCreate, update: jumperUpdate }
      };
      games.jumper = new Phaser.Game(cfg);
    }
    let playerJ, platformGroup;
    function jumperPreload() { this.load.image('block', 'https://i.imgur.com/8gSx4fT.png'); }
    function jumperCreate() {
      cursors = this.input.keyboard.createCursorKeys();
      platformGroup = this.physics.add.staticGroup();
      platformGroup.create(200, 300, 'block').setScale(4, 0.5).refreshBody();
      playerJ = this.physics.add.sprite(50, 250, 'block').setTint(0x00ffaa).setDisplaySize(20,20);
      this.physics.add.collider(playerJ, platformGroup, null, null, this);
    }
    function jumperUpdate() {
      if (cursors.left.isDown) playerJ.setVelocityX(-150);
      else if (cursors.right.isDown) playerJ.setVelocityX(150);
      else playerJ.setVelocityX(0);
      if (Phaser.Input.Keyboard.JustDown(cursors.up) && playerJ.body.onFloor()) playerJ.setVelocityY(-300);
      if (playerJ.y > 350) restartGame('jumper');
    }
    // ---- Game 4: Block Drop ----
    function initDrop() {
      const cfg = {
        type: Phaser.AUTO, width: 400, height: 300,
        backgroundColor: 'transparent', parent: 'game-drop',
        physics: { default: 'arcade', arcade: { gravity: { y: 0 } } },
        scene: { create: dropCreate, update: dropUpdate }
      };
      games.drop = new Phaser.Game(cfg);
    }
    let dropBlock, dropCursors;
    function dropCreate() {
      dropCursors = this.input.keyboard.createCursorKeys();
      dropBlock = this.add.rectangle(200, 20, 50, 20, 0x00ff00);
    }
    function dropUpdate() {
      if (dropCursors.left.isDown && dropBlock.y < 30) dropBlock.x -= 5;
      else if (dropCursors.right.isDown && dropBlock.y < 30) dropBlock.x += 5;
      if (Phaser.Input.Keyboard.JustDown(dropCursors.space) && dropBlock.y < 30) {
        this.physics.world.enable(dropBlock);
        dropBlock.body.setVelocityY(200);
        this.physics.add.collider(dropBlock, this.physics.add.staticGroup().create(dropBlock.x, 300, null).setDisplaySize(50,20), () => {
          restartGame('drop');
        });
      }
      if (dropBlock.y > 350) restartGame('drop');
    }
  </script>
</body>
</html>
